<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>任務管理系統</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/sql-wasm.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  

  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-4">
  <div class="max-w-7xl mx-auto">
    <h1 class="text-2xl font-bold mb-4">任務管理系統</h1>
    <div class="flex space-x-2 mb-4">
      <button id="tab-todo" class="tab-btn bg-blue-500 text-white px-4 py-2 rounded">清單</button>
      <button id="tab-board" class="tab-btn bg-gray-300 text-black px-4 py-2 rounded">看板</button>
    </div>

    <!-- 清單 -->
    <div id="todo-tab" class="tab-content">
      <button id="btn-add" class="bg-green-500 text-white px-3 py-1 rounded mb-2">新增任務</button>
      <table class="w-full table-auto border">
        <thead class="bg-gray-200">
          <tr>
            <th>事項</th><th>狀態</th><th>處理情況</th><th>建立日期</th><th>完成日期</th><th>操作</th>
          </tr>
        </thead>
        <tbody id="task-table-body" class="bg-white"></tbody>
      </table>
      <button id="btn-export" class="mt-4 bg-yellow-500 text-white px-3 py-1 rounded">匯出 Excel</button>
    </div>

    <!-- 看板 -->
    <div id="board-tab" class="tab-content hidden grid grid-cols-3 gap-4">
      <div class="bg-red-100 p-2 rounded" id="section-upcoming">
        <h2 class="text-red-600 font-bold mb-2">即將</h2>
        <div class="task-column space-y-2"></div>
      </div>
      <div class="bg-blue-100 p-2 rounded" id="section-doing">
        <h2 class="text-blue-600 font-bold mb-2">處理中</h2>
        <div class="task-column space-y-2"></div>
      </div>
      <div class="bg-green-100 p-2 rounded" id="section-done">
        <h2 class="text-green-600 font-bold mb-2">完成</h2>
        <div class="task-column space-y-2"></div>
      </div>
    </div>
  </div>
  
  <!-- 任務編輯表單 -->
<div id="task-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-4 rounded w-full max-w-lg">
    <h2 id="modal-title" class="text-xl font-bold mb-2">新增任務</h2>
    <div class="space-y-2">
      <input id="task-id" type="hidden">
      <label class="block">
        事項：
        <input id="task-name" maxlength="100" class="w-full border rounded px-2 py-1">
      </label>
      <label class="block">
        狀態：
        <select id="task-status" class="w-full border rounded px-2 py-1">
          <option>即將</option>
          <option>處理中</option>
          <option>完成</option>
        </select>
      </label>
      <label class="block">
        處理情況：
        <textarea id="task-detail" maxlength="500" class="w-full border rounded px-2 py-1"></textarea>
      </label>
      <label class="block">
        建立日期：
        <input id="task-start" type="date" class="w-full border rounded px-2 py-1">
      </label>
      <label class="block">
        完成日期：
        <input id="task-end" type="date" class="w-full border rounded px-2 py-1">
      </label>
    </div>
    <div class="mt-4 text-right space-x-2">
      <button onclick="closeModal()" class="px-4 py-1 rounded bg-gray-400 text-white">取消</button>
      <button onclick="saveTask()" class="px-4 py-1 rounded bg-blue-600 text-white">儲存</button>
    </div>
  </div>
</div>
   
     <script defer src="trello_style_task_board.js"></script>
</body>
</html>
